@import 'tailwindcss';
@plugin '@tailwindcss/typography';
@custom-variant dark (&:is(.dark *));

/* -------------------------------------------------- */
/*  THEME OVERRIDES: FONTS + BRAND COLORS             */
/* -------------------------------------------------- */

@theme {
  --font-sans: "Inter", system-ui, sans-serif;
  --font-serif: "Source Serif 4", Georgia, serif;

  /* Brand colours (you can still use these for buttons etc.) */
  --color-brand: #B87F2A;
  --color-brand-hover: #E0A955;

  /* Site backgrounds */
  --color-bg-light: #F4F1EB;
  --color-bg-dark:  #1A1816;

  /* Text */
  --color-text-light: #1A1816;  /* warm charcoal */
  --color-text-dark:  #F7F4EF;  /* warm off-white */

  /* Links – LIGHT MODE */
  --color-link-light:       #9E5F2C;
  --color-link-hover-light: #B37742;

  /* Links – DARK MODE */
  --color-link-dark:        #E0A955;
  --color-link-hover-dark:  #B87F2A;

  /* Supporting neutrals */
  --color-soft-warm-gray: #E8E3DC;
  --color-deep-warm-gray: #2A2724;
}

/* -------------------------------------------------- */
/*  CONTAINER OVERRIDES (unchanged)                   */
/* -------------------------------------------------- */

@utility container {
  padding-inline: 1rem;

  @media (width >= theme(--breakpoint-sm)) {
    padding-inline: 2rem;
  }

  @media (width >= theme(--breakpoint-lg)) {
    padding-inline: 4rem;
  }

  @media (width >= theme(--breakpoint-xl)) {
    padding-inline: 5rem;
  }

  @media (width >= theme(--breakpoint-2xl)) {
    padding-inline: 6rem;
  }
}

/* -------------------------------------------------- */
/*  BASE LAYER FIXES + BRAND LINK COLORS              */
/* -------------------------------------------------- */

@layer base {
  /* Default body font: Inter */
  html {
    font-family: var(--font-sans);
  }

  /* Headings: Source Serif 4 */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    font-weight: 600;
    font-optical-sizing: auto;
  }

  /* Tailwind v4 border compatibility */
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }

  /* Global link colors using our new tokens */
  a {
    color: var(--color-link-light);
    text-decoration: none;
    text-decoration-thickness: 1px;
    text-underline-offset: 0.18em;
  }

  a:hover,
  a:focus {
    color: var(--color-link-hover-light);
  }

  /* Dark mode link overrides */
  .dark a {
    color: var(--color-link-dark);
  }

  .dark a:hover,
  .dark a:focus {
    color: var(--color-link-hover-dark);
  }
}

/* -------------------------------------------------- */
/*  ANIMATION                                         */
/* -------------------------------------------------- */

@keyframes gentle-bounce {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-3px);
  }
  100% {
    transform: translateY(0);
  }
}

a.gentle-clicked {
  animation: gentle-bounce 0.3s ease-out;
}

/* Site background variables (light / dark) */
/* You *could* swap these to use theme vars later if you want */

:root {
  --site-bg: #F7F4EF; /* light background */
}

.dark {
  --site-bg: #2A2724; /* dark background */
}

/* Force the page background to use the variable (override Tailwind utilities if necessary) */
body {
  background-color: var(--site-bg) !important;
}
